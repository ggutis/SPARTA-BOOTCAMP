# 🎮 텍스트 기반 로그라이크 RPG

Node.js로 개발된 간단한 턴제 텍스트 RPG입니다. 매 스테이지마다 강력해지는 몬스터를 상대로 자신의 한계를 시험하고, 최종 스테이지까지 살아남아 게임을 클리어하세요!

---

## ✨ 주요 특징

*   **직업 선택 시스템**: 각기 다른 능력치와 개성을 가진 3가지 직업(전사, 마법사, 궁수) 중 하나를 선택하여 플레이할 수 있습니다.
*   **턴제 전투**: 플레이어와 몬스터가 차례대로 공격과 방어를 주고받는 클래식한 턴제 전투 시스템입니다.
*   **스테이지와 성장**: 총 10개의 스테이지가 있으며, 스테이지를 클리어할 때마다 캐릭터가 성장(레벨업)하여 더 강력해집니다.
*   **다채로운 전투 로그**: `chalk` 라이브러리를 활용하여 전투 상황을 다채로운 색상으로 표현하여 몰입감을 높였습니다.

---

## 🛠️ 설치 및 실행

### 요구 사항

*   [Node.js](https://nodejs.org/)
*   npm (Node.js 설치 시 함께 설치됨)

### 설치 과정

1.  **프로젝트 클론**

    ```bash
    git clone https://github.com/your-username/roguelike-game.git
    ```

2.  **프로젝트 폴더로 이동**

    ```bash
    cd roguelike-game
    ```

3.  **필요한 패키지 설치**

    ```bash
    npm install
    ```

### 실행

아래 명령어를 터미널에 입력하여 게임을 시작합니다.

```bash
node sever.js
```

---

## 📖 게임 방법

1.  게임이 시작되면 먼저 플레이할 직업을 선택합니다.
2.  각 스테이지마다 몬스터가 등장하며 전투가 시작됩니다.
3.  매 턴마다 **[1. 공격, 2. 방어, 3. 도망]** 중 하나의 행동을 선택할 수 있습니다.
4.  몬스터의 HP를 0으로 만들면 스테이지를 클리어하고 캐릭터가 성장합니다.
5.  플레이어의 HP가 0이 되면 게임 오버입니다.
6.  최종 10 스테이지까지 모두 클리어하면 게임에서 승리합니다.

---

## 🏹 직업 상세 정보

| 직업 | 체력 (HP) | 공격력 (ATK) | 연속 공격 확률 | 완벽 방어 확률 |
| :--- | :--- | :--- | :--- | :--- |
| **전사** | 120 | 20 | 15% | 60% |
| **마법사** | 80 | 30 | 25% | 30% |
| **궁수** | 100 | 25 | 30% | 40% |

*   **연속 공격**: 기본 공격 시 일정 확률로 발동하며, 두 번의 추가 피해를 입힙니다.
*   **완벽 방어**: 방어 선택 시 일정 확률로 발동하며, 몬스터의 공격을 완전히 무효화합니다.

---

## ⚙️ 게임 시스템

*   **레벨업**: 스테이지 클리어 시 최대 체력(+10), 공격력(+3)이 영구적으로 상승하며, 현재 체력이 모두 회복됩니다.
*   **몬스터**: 몬스터는 스테이지가 올라갈수록 체력(+30/stage)과 공격력(+2/stage)이 강해집니다.

---

## 💻 기술 스택

*   **언어**: JavaScript (ESM)
*   **실행 환경**: Node.js
*   **주요 라이브러리**:
    *   `readline-sync`: 사용자 입력을 동기적으로 받기 위해 사용됩니다.
    *   `chalk`: 터미널 출력에 다채로운 색상을 적용하기 위해 사용됩니다.

---

## 🐛 트러블슈팅

### 1. 전투 종료 메시지 미출력

*   **문제 현상**: 몬스터를 처치하거나 플레이어가 패배했을 때, 전투 종료 메시지(`"몬스터를 물리쳤습니다!"` 또는 `"플레이어가 패배했습니다!"`)가 출력되지 않고 바로 다음 로직으로 넘어가는 문제가 있었습니다.
*   **원인 분석**: `battle` 함수의 `while` 루프 내에서 `player.hp` 또는 `monster.hp`가 0 이하가 되었을 때, `return` 문으로 즉시 함수가 종료되면서 마지막 로그 메시지를 출력할 기회가 없었습니다.
*   **해결 방안**: `while` 루프의 조건을 `player.hp > 0 && monster.hp > 0`으로 유지하되, 루프 바로 다음에 전투 결과 메시지를 출력하도록 로직을 수정했습니다. 이를 통해 전투 루프가 정상적으로 종료된 후, 결과 메시지가 항상 출력되도록 보장했습니다.

### 2. 스테이지 자동 클리어 현상

*   **문제 현상**: 전투에서 승리한 후, 다음 스테이지가 시작될 때 새로운 몬스터와 전투를 시작하지 않고 바로 `"몬스터를 물리쳤습니다!"` 메시지가 출력되며 스테이지가 자동으로 클리어되는 버그가 발생했습니다.
*   **원인 분석**: 이전 스테이지의 전투 결과(`result`)가 다음 스테이지에 영향을 주는 상태 관리의 문제였습니다. `battle` 함수에서 반환된 `true` 값이 `startGame` 함수의 `while` 루프에 그대로 남아, 새로운 몬스터를 생성하고도 전투 로직을 건너뛰는 현상이 발생했습니다.
*   **해결 방안**: `startGame` 함수의 `while` 루프 내에서 `battle` 함수를 호출하기 전에, 새로운 `Monster` 객체를 생성하여 전투에 필요한 상태가 매 스테이지마다 초기화되도록 수정했습니다. 또한, `battle` 함수의 반환 값을 명확하게 `true`(승리) 또는 `false`(패배)로 처리하여, 다음 스테이지 진행 여부를 결정하는 로직을 강화했습니다.